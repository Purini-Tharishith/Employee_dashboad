{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\nexport let DeleteTaskComponent = class DeleteTaskComponent {\n  constructor(formBuilder, http, router) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.router = router;\n    this.isDeleted = false;\n    this.projects = [];\n  }\n  ngOnInit() {\n    const token = JSON.parse(sessionStorage.getItem('key')).token;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n    this.http.get('http://localhost:8083/api/project/details', {\n      headers\n    }).subscribe(response => {\n      console.log(response);\n      this.projects = response;\n      //this.projectslength = response.length;\n    });\n  }\n\n  DeleteTask() {\n    const token = JSON.parse(sessionStorage.getItem('key')).token;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n    this.http.delete('http://localhost:8083/api/task/delete/' + this.projectId + '/task/' + this.taskId, {\n      headers,\n      responseType: 'text'\n    }).subscribe(response => {\n      console.log(response);\n      this.isDeleted = true;\n      setTimeout(() => {\n        this.isDeleted = false;\n      }, 3000);\n    });\n  }\n};\nDeleteTaskComponent = __decorate([Component({\n  selector: 'app-delete-task',\n  templateUrl: './delete-task.component.html',\n  styleUrls: ['./delete-task.component.css']\n})], DeleteTaskComponent);","map":{"version":3,"names":["Component","HttpHeaders","DeleteTaskComponent","constructor","formBuilder","http","router","isDeleted","projects","ngOnInit","token","JSON","parse","sessionStorage","getItem","headers","get","subscribe","response","console","log","DeleteTask","delete","projectId","taskId","responseType","setTimeout","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\modules\\manager\\delete-task\\delete-task.component.ts"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpClient ,HttpHeaders} from '@angular/common/http';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-delete-task',\n  templateUrl: './delete-task.component.html',\n  styleUrls: ['./delete-task.component.css']\n})\nexport class DeleteTaskComponent implements OnInit{\n  \n  taskId:number;\n  projectId:number;\n  selectedProjectId:number;\n  isDeleted:boolean = false;\n  projects:any[]=[];\n  constructor(private formBuilder: FormBuilder,private http : HttpClient,private router :Router) { }\n  ngOnInit(): void {\n   \n    const token = JSON.parse(sessionStorage.getItem('key')).token;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n      \n    this.http.get<any[]>('http://localhost:8083/api/project/details',{headers}).subscribe((response)=>{\n      console.log(response);\n      this.projects = response;\n      //this.projectslength = response.length;\n    })\n  }\n \n  DeleteTask(){\n\n    const token = JSON.parse(sessionStorage.getItem('key')).token;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n     \n    this.http.delete('http://localhost:8083/api/task/delete/'+this.projectId+'/task/'+this.taskId,{headers,responseType:'text'}).subscribe((response)=>{\n      console.log(response);\n      this.isDeleted = true;\n      setTimeout(()=>{\n        this.isDeleted = false;\n      },3000);      \n\n    })\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAe,eAAe;AAEhD,SAAqBC,WAAW,QAAO,sBAAsB;AAOtD,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAO9BC,YAAoBC,WAAwB,EAASC,IAAiB,EAASC,MAAc;IAAzE,KAAAF,WAAW,GAAXA,WAAW;IAAsB,KAAAC,IAAI,GAAJA,IAAI;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAFrF,KAAAC,SAAS,GAAW,KAAK;IACzB,KAAAC,QAAQ,GAAO,EAAE;EACgF;EACjGC,QAAQA,CAAA;IAEN,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,CAACJ,KAAK;IAC7D,MAAMK,OAAO,GAAG,IAAId,WAAW,CAAC;MAC9B,eAAe,EAAE,UAAUS,KAAK;KACjC,CAAC;IAEF,IAAI,CAACL,IAAI,CAACW,GAAG,CAAQ,2CAA2C,EAAC;MAACD;IAAO,CAAC,CAAC,CAACE,SAAS,CAAEC,QAAQ,IAAG;MAChGC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACV,QAAQ,GAAGU,QAAQ;MACxB;IACF,CAAC,CAAC;EACJ;;EAEAG,UAAUA,CAAA;IAER,MAAMX,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,CAACJ,KAAK;IAC7D,MAAMK,OAAO,GAAG,IAAId,WAAW,CAAC;MAC9B,eAAe,EAAE,UAAUS,KAAK;KACjC,CAAC;IAEF,IAAI,CAACL,IAAI,CAACiB,MAAM,CAAC,wCAAwC,GAAC,IAAI,CAACC,SAAS,GAAC,QAAQ,GAAC,IAAI,CAACC,MAAM,EAAC;MAACT,OAAO;MAACU,YAAY,EAAC;IAAM,CAAC,CAAC,CAACR,SAAS,CAAEC,QAAQ,IAAG;MACjJC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACX,SAAS,GAAG,IAAI;MACrBmB,UAAU,CAAC,MAAI;QACb,IAAI,CAACnB,SAAS,GAAG,KAAK;MACxB,CAAC,EAAC,IAAI,CAAC;IAET,CAAC,CAAC;EACJ;CAED;AAvCYL,mBAAmB,GAAAyB,UAAA,EAL/B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACW5B,mBAAmB,CAuC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}