{"ast":null,"code":"import { Router } from '@angular/router';\nimport { SharedDataService } from './shared-data.service';\ni;\nexport const preRouteGuard = (route, state) => {\n  console.log('pre-routeGuard is called');\n  // const router = inject(Router);\n  // const sharedDataService = new SharedDataService();\n  // const token = sharedDataService.getToken();\n  // console.log(token);\n  // if(token){\n  //   return true;\n  // }\n  // else{\n  //   router.navigateByUrl('/login')\n  //   return false;\n  // }\n  const sharedDataService = new SharedDataService(); // Instantiate SharedDataService\n  const token = sharedDataService.getToken(); // Get token from SharedDataService\n  if (token) {\n    return true;\n  } else {\n    const router = new Router(); // Instantiate Router\n    router.navigateByUrl('/login'); // Navigate to login page\n    return false;\n  }\n  return true;\n};","map":{"version":3,"names":["Router","SharedDataService","i","preRouteGuard","route","state","console","log","sharedDataService","token","getToken","router","navigateByUrl"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\pre-route.guard.ts"],"sourcesContent":["import { CanActivateFn, ActivatedRouteSnapshot, RouterStateSnapshot ,Router} from '@angular/router';\nimport { SharedDataService } from './shared-data.service';\ni;\n\nexport const preRouteGuard: CanActivateFn = (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n  \n   console.log('pre-routeGuard is called');\n  // const router = inject(Router);\n  // const sharedDataService = new SharedDataService();\n  // const token = sharedDataService.getToken();\n  // console.log(token);\n  // if(token){\n  //   return true;\n  // }\n  // else{\n  //   router.navigateByUrl('/login')\n  //   return false;\n  // }\n\n  const sharedDataService = new SharedDataService(); // Instantiate SharedDataService\n  const token = sharedDataService.getToken(); // Get token from SharedDataService\n\n  if (token) {\n    return true;\n  } else {\n    const router = new Router(); // Instantiate Router\n    router.navigateByUrl('/login'); // Navigate to login page\n    return false;\n  }\n  return true;\n};\n\n\n"],"mappings":"AAAA,SAAqEA,MAAM,QAAO,iBAAiB;AACnG,SAASC,iBAAiB,QAAQ,uBAAuB;AACzDC,CAAC;AAED,OAAO,MAAMC,aAAa,GAAkBA,CAACC,KAA6B,EAAEC,KAA0B,KAAI;EAEvGC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EACxC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA,MAAMC,iBAAiB,GAAG,IAAIP,iBAAiB,EAAE,CAAC,CAAC;EACnD,MAAMQ,KAAK,GAAGD,iBAAiB,CAACE,QAAQ,EAAE,CAAC,CAAC;EAE5C,IAAID,KAAK,EAAE;IACT,OAAO,IAAI;GACZ,MAAM;IACL,MAAME,MAAM,GAAG,IAAIX,MAAM,EAAE,CAAC,CAAC;IAC7BW,MAAM,CAACC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;IAChC,OAAO,KAAK;;EAEd,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}