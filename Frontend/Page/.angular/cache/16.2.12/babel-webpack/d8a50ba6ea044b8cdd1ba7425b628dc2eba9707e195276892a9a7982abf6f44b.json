{"ast":null,"code":"import { SharedDataService } from './shared-data.service';\nexport const preRouteGuard = (route, state) => {\n  // console.log('pre-routeGuard is called');\n  // const router = inject(Router);\n  // const sharedDataService = new SharedDataService();\n  // const token = sharedDataService.getToken();\n  // console.log(token);\n  // if(token){\n  //   return true;\n  // }\n  // else{\n  //   router.navigateByUrl('/login')\n  //   return false;\n  // }\n  const sharedDataService = new SharedDataService(); // Instantiate SharedDataService\n  const token = sharedDataService.getToken(); // Get token from SharedDataService\n  if (token) {\n    return true;\n  } else {\n    const router = new Router(); // Instantiate Router\n    router.navigateByUrl('/login'); // Navigate to login page\n    return false;\n  }\n  return true;\n};","map":{"version":3,"names":["SharedDataService","preRouteGuard","route","state","sharedDataService","token","getToken","router","Router","navigateByUrl"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\pre-route.guard.ts"],"sourcesContent":["import { CanActivateFn, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { SharedDataService } from './shared-data.service';\nimport { inject } from '@angular/core';\n\nexport const preRouteGuard: CanActivateFn = (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n  \n  // console.log('pre-routeGuard is called');\n  // const router = inject(Router);\n  // const sharedDataService = new SharedDataService();\n  // const token = sharedDataService.getToken();\n  // console.log(token);\n  // if(token){\n  //   return true;\n  // }\n  // else{\n  //   router.navigateByUrl('/login')\n  //   return false;\n  // }\n\n  const sharedDataService = new SharedDataService(); // Instantiate SharedDataService\n  const token = sharedDataService.getToken(); // Get token from SharedDataService\n\n  if (token) {\n    return true;\n  } else {\n    const router = new Router(); // Instantiate Router\n    router.navigateByUrl('/login'); // Navigate to login page\n    return false;\n  }\n  return true;\n};\n\n\n"],"mappings":"AACA,SAASA,iBAAiB,QAAQ,uBAAuB;AAGzD,OAAO,MAAMC,aAAa,GAAkBA,CAACC,KAA6B,EAAEC,KAA0B,KAAI;EAExG;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA,MAAMC,iBAAiB,GAAG,IAAIJ,iBAAiB,EAAE,CAAC,CAAC;EACnD,MAAMK,KAAK,GAAGD,iBAAiB,CAACE,QAAQ,EAAE,CAAC,CAAC;EAE5C,IAAID,KAAK,EAAE;IACT,OAAO,IAAI;GACZ,MAAM;IACL,MAAME,MAAM,GAAG,IAAIC,MAAM,EAAE,CAAC,CAAC;IAC7BD,MAAM,CAACE,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;IAChC,OAAO,KAAK;;EAEd,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}