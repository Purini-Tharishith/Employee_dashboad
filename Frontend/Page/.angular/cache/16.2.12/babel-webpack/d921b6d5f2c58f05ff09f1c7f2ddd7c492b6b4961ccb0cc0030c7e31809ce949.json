{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\nimport { saveAs } from 'file-saver';\nexport let DashboardMainComponent = class DashboardMainComponent {\n  constructor(http, sharedDataService, router, data) {\n    this.http = http;\n    this.sharedDataService = sharedDataService;\n    this.router = router;\n    this.data = data;\n    this.sideBarOpen = true;\n    this.token = null;\n  }\n  ngOnInit() {\n    this.fetchDataAndSaveToFile();\n  }\n  getTasks() {\n    const token = this.sharedDataService.getToken();\n    if (!token) {\n      this.router.navigateByUrl('/login');\n    }\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n    this.http.get('http://localhost:8083/api/project/1', {\n      headers,\n      responseType: 'json'\n    }).subscribe(data => {\n      console.log(data);\n      const jsonData = JSON.stringify(data);\n      const jsonBlob = new Blob([jsonData], {\n        type: 'application/json'\n      });\n      saveAs(jsonBlob, 'projectdata.json');\n      this.sharedDataService.setProjectDeatils(data);\n    });\n  }\n  sideBarToggler() {\n    this.sideBarOpen = !this.sideBarOpen;\n  }\n};\nDashboardMainComponent = __decorate([Component({\n  selector: 'app-dashboard-main',\n  templateUrl: './dashboard-main.component.html',\n  styleUrls: ['./dashboard-main.component.css']\n})], DashboardMainComponent);","map":{"version":3,"names":["Component","HttpHeaders","saveAs","DashboardMainComponent","constructor","http","sharedDataService","router","data","sideBarOpen","token","ngOnInit","fetchDataAndSaveToFile","getTasks","getToken","navigateByUrl","headers","get","responseType","subscribe","console","log","jsonData","JSON","stringify","jsonBlob","Blob","type","setProjectDeatils","sideBarToggler","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\components\\dashboard-components\\dashboard-main\\dashboard-main.component.ts"],"sourcesContent":["import { Component, OnInit} from '@angular/core';\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\nimport { SharedDataService } from '../../../shared-data.service';\nimport { Router, RouterModule, Routes } from '@angular/router';\nimport { preRouteGuard } from '../../../pre-route.guard';\nimport { saveAs } from 'file-saver';\nimport { DataService } from '../../../data.service';\n@Component({\n  selector: 'app-dashboard-main',\n  templateUrl: './dashboard-main.component.html',\n  styleUrls: ['./dashboard-main.component.css']\n})\nexport class DashboardMainComponent implements OnInit{\n  \n  sideBarOpen = true;\n  authtoken: any;\n  constructor(private http : HttpClient,private sharedDataService: SharedDataService,private router : Router,private data : Dat){}\n  token: string | null = null;\n  ngOnInit(): void {\n    this.fetchDataAndSaveToFile();\n  }\n  \n\n\n  public getTasks(){\n    const token = this.sharedDataService.getToken();\n    if (!token) {\n      this.router.navigateByUrl('/login')\n    }\n  \n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`\n    });\n      this.http.get('http://localhost:8083/api/project/1',{headers,responseType:'json'}).subscribe((data) =>{\n        console.log(data);\n\n        const jsonData = JSON.stringify(data);\n        const jsonBlob = new Blob([jsonData], { type: 'application/json' });\n        saveAs(jsonBlob, 'projectdata.json');\n        this.sharedDataService.setProjectDeatils(data);\n      })\n  }\n  \n  public sideBarToggler()\n  {\n    this.sideBarOpen = !this.sideBarOpen;\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAe,eAAe;AAChD,SAAoBC,WAAW,QAAQ,sBAAsB;AAI7D,SAASC,MAAM,QAAQ,YAAY;AAO5B,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAIjCC,YAAoBC,IAAiB,EAASC,iBAAoC,EAASC,MAAe,EAASC,IAAU;IAAzG,KAAAH,IAAI,GAAJA,IAAI;IAAsB,KAAAC,iBAAiB,GAAjBA,iBAAiB;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,IAAI,GAAJA,IAAI;IAFvH,KAAAC,WAAW,GAAG,IAAI;IAGlB,KAAAC,KAAK,GAAkB,IAAI;EADoG;EAE/HC,QAAQA,CAAA;IACN,IAAI,CAACC,sBAAsB,EAAE;EAC/B;EAIOC,QAAQA,CAAA;IACb,MAAMH,KAAK,GAAG,IAAI,CAACJ,iBAAiB,CAACQ,QAAQ,EAAE;IAC/C,IAAI,CAACJ,KAAK,EAAE;MACV,IAAI,CAACH,MAAM,CAACQ,aAAa,CAAC,QAAQ,CAAC;;IAGrC,MAAMC,OAAO,GAAG,IAAIf,WAAW,CAAC;MAC9B,eAAe,EAAE,UAAUS,KAAK;KACjC,CAAC;IACA,IAAI,CAACL,IAAI,CAACY,GAAG,CAAC,qCAAqC,EAAC;MAACD,OAAO;MAACE,YAAY,EAAC;IAAM,CAAC,CAAC,CAACC,SAAS,CAAEX,IAAI,IAAI;MACpGY,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC;MAEjB,MAAMc,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAAC;MACrC,MAAMiB,QAAQ,GAAG,IAAIC,IAAI,CAAC,CAACJ,QAAQ,CAAC,EAAE;QAAEK,IAAI,EAAE;MAAkB,CAAE,CAAC;MACnEzB,MAAM,CAACuB,QAAQ,EAAE,kBAAkB,CAAC;MACpC,IAAI,CAACnB,iBAAiB,CAACsB,iBAAiB,CAACpB,IAAI,CAAC;IAChD,CAAC,CAAC;EACN;EAEOqB,cAAcA,CAAA;IAEnB,IAAI,CAACpB,WAAW,GAAG,CAAC,IAAI,CAACA,WAAW;EACtC;CAED;AApCYN,sBAAsB,GAAA2B,UAAA,EALlC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACW9B,sBAAsB,CAoClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}