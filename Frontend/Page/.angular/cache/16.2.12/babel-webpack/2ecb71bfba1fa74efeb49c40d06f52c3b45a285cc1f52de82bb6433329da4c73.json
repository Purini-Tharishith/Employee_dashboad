{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared-data.service\";\nexport class MasterInterceptor {\n  constructor(sharedData) {\n    this.sharedData = sharedData;\n  }\n  intercept(request, next) {\n    const allowRequest1 = \"http://localhost:8082/api/signup\";\n    const allowRequest2 = \"http://localhost:8082/api/signin\";\n    if (request.url == allowRequest1 || request.url == allowRequest2) {\n      return next.handle(request);\n    } else {\n      //   let loggedUserData:any;\n      // let localdata=sessionStorage.getItem('key');\n      // if(localdata!=null){\n      //   loggedUserData=JSON.parse(localdata);\n      // }\n      token = sharedData.getToken();\n      const cloneRequest = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return next.handle(cloneRequest);\n    }\n  }\n  static #_ = this.ɵfac = function MasterInterceptor_Factory(t) {\n    return new (t || MasterInterceptor)(i0.ɵɵinject(i1.SharedDataService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MasterInterceptor,\n    factory: MasterInterceptor.ɵfac\n  });\n}","map":{"version":3,"names":["MasterInterceptor","constructor","sharedData","intercept","request","next","allowRequest1","allowRequest2","url","handle","token","getToken","cloneRequest","clone","setHeaders","Authorization","_","i0","ɵɵinject","i1","SharedDataService","_2","factory","ɵfac"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\service\\master.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { SharedDataService } from '../shared-data.service';\n@Injectable()\nexport class MasterInterceptor implements HttpInterceptor {\n\n  constructor(private sharedData :SharedDataService) {}\n  token : any;\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n\n    const allowRequest1=\"http://localhost:8082/api/signup\";\n    const allowRequest2=\"http://localhost:8082/api/signin\";\n    if(request.url==allowRequest1 || request.url==allowRequest2){\n      return next.handle(request);\n    }\n    else{\n    //   let loggedUserData:any;\n    // let localdata=sessionStorage.getItem('key');\n    // if(localdata!=null){\n    //   loggedUserData=JSON.parse(localdata);\n    // }\n    token = sharedData.getToken();\n    const cloneRequest=request.clone({\n      setHeaders:{\n        Authorization:`Bearer ${token}`\n      }\n    })\n    return next.handle(cloneRequest);\n    }\n  }\n}\n"],"mappings":";;AAUA,OAAM,MAAOA,iBAAiB;EAE5BC,YAAoBC,UAA6B;IAA7B,KAAAA,UAAU,GAAVA,UAAU;EAAsB;EAEpDC,SAASA,CAACC,OAA6B,EAAEC,IAAiB;IAExD,MAAMC,aAAa,GAAC,kCAAkC;IACtD,MAAMC,aAAa,GAAC,kCAAkC;IACtD,IAAGH,OAAO,CAACI,GAAG,IAAEF,aAAa,IAAIF,OAAO,CAACI,GAAG,IAAED,aAAa,EAAC;MAC1D,OAAOF,IAAI,CAACI,MAAM,CAACL,OAAO,CAAC;KAC5B,MACG;MACJ;MACA;MACA;MACA;MACA;MACAM,KAAK,GAAGR,UAAU,CAACS,QAAQ,EAAE;MAC7B,MAAMC,YAAY,GAACR,OAAO,CAACS,KAAK,CAAC;QAC/BC,UAAU,EAAC;UACTC,aAAa,EAAC,UAAUL,KAAK;;OAEhC,CAAC;MACF,OAAOL,IAAI,CAACI,MAAM,CAACG,YAAY,CAAC;;EAElC;EAAC,QAAAI,CAAA,G;qBAzBUhB,iBAAiB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,iBAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAjBrB,iBAAiB;IAAAsB,OAAA,EAAjBtB,iBAAiB,CAAAuB;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}