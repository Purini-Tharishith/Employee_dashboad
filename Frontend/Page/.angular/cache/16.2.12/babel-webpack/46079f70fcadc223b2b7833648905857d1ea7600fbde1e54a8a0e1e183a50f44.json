{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Chart } from 'chart.js';\nexport let DefaultDashboardComponent = class DefaultDashboardComponent {\n  constructor(projectService) {\n    this.projectService = projectService;\n    this.projects = [];\n    this.projectCounts = {};\n    this.chartLabels = [];\n    this.chartData = [];\n  }\n  ngOnInit() {\n    this.projectService.getProjects().subscribe(data => {\n      this.projects = data;\n      this.countProjectStatus();\n      this.renderPieChart();\n    }, error => {\n      console.error('Error fetching projects:', error);\n    });\n  }\n  countProjectStatus() {\n    this.projectCounts = {};\n    this.projects.forEach(project => {\n      const status = project.status;\n      this.projectCounts[status] = (this.projectCounts[status] || 0) + 1;\n    });\n    this.chartLabels = Object.keys(this.projectCounts);\n    this.chartData = Object.values(this.projectCounts);\n  }\n  renderPieChart() {\n    // Assuming you have a canvas element with id 'pieChart' in your HTML\n    const pieChartCanvas = document.getElementById('pieChart');\n    const ctx = pieChartCanvas.getContext('2d');\n    new Chart(ctx, {\n      type: 'pie',\n      data: {\n        labels: this.chartLabels,\n        datasets: [{\n          data: this.chartData,\n          backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)'\n          // Add more colors as needed\n          ]\n        }]\n      },\n\n      options: {\n        // Add chart options here\n      }\n    });\n  }\n};\nDefaultDashboardComponent = __decorate([Component({\n  selector: 'app-default-dashboard',\n  templateUrl: './default-dashboard.component.html',\n  styleUrls: ['./default-dashboard.component.css']\n})], DefaultDashboardComponent);","map":{"version":3,"names":["Component","Chart","DefaultDashboardComponent","constructor","projectService","projects","projectCounts","chartLabels","chartData","ngOnInit","getProjects","subscribe","data","countProjectStatus","renderPieChart","error","console","forEach","project","status","Object","keys","values","pieChartCanvas","document","getElementById","ctx","getContext","type","labels","datasets","backgroundColor","options","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Purini Tharishith\\Desktop\\project3\\Page\\src\\app\\modules\\manager\\default-dashboard\\default-dashboard.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Chart } from 'chart.js';\n@Component({\n  selector: 'app-default-dashboard',\n  templateUrl: './default-dashboard.component.html',\n  styleUrls: ['./default-dashboard.component.css']\n})\nexport class DefaultDashboardComponent {\n  projects: any[] = [];\n  projectCounts: { [status: string]: number } = {};\n  chartLabels: string[] = [];\n  chartData: number[] = [];\n\n  constructor(private projectService: ProjectService) { }\n\n  ngOnInit(): void {\n    this.projectService.getProjects().subscribe(\n      (data: any[]) => {\n        this.projects = data;\n        this.countProjectStatus();\n        this.renderPieChart();\n      },\n      (error) => {\n        console.error('Error fetching projects:', error);\n      }\n    );\n  }\n\n  countProjectStatus(): void {\n    this.projectCounts = {};\n    this.projects.forEach(project => {\n      const status = project.status;\n      this.projectCounts[status] = (this.projectCounts[status] || 0) + 1;\n    });\n    this.chartLabels = Object.keys(this.projectCounts);\n    this.chartData = Object.values(this.projectCounts);\n  }\n\n  renderPieChart(): void {\n    // Assuming you have a canvas element with id 'pieChart' in your HTML\n    const pieChartCanvas = document.getElementById('pieChart') as HTMLCanvasElement;\n    const ctx = pieChartCanvas.getContext('2d');\n\n    new Chart(ctx, {\n      type: 'pie',\n      data: {\n        labels: this.chartLabels,\n        datasets: [{\n          data: this.chartData,\n          backgroundColor: [\n            'rgba(255, 99, 132, 0.5)',\n            'rgba(54, 162, 235, 0.5)',\n            'rgba(255, 206, 86, 0.5)',\n            // Add more colors as needed\n          ],\n        }],\n      },\n      options: {\n        // Add chart options here\n      },\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,KAAK,QAAQ,UAAU;AAMzB,WAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAMpCC,YAAoBC,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IALlC,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAC,aAAa,GAAiC,EAAE;IAChD,KAAAC,WAAW,GAAa,EAAE;IAC1B,KAAAC,SAAS,GAAa,EAAE;EAE8B;EAEtDC,QAAQA,CAAA;IACN,IAAI,CAACL,cAAc,CAACM,WAAW,EAAE,CAACC,SAAS,CACxCC,IAAW,IAAI;MACd,IAAI,CAACP,QAAQ,GAAGO,IAAI;MACpB,IAAI,CAACC,kBAAkB,EAAE;MACzB,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CACF;EACH;EAEAF,kBAAkBA,CAAA;IAChB,IAAI,CAACP,aAAa,GAAG,EAAE;IACvB,IAAI,CAACD,QAAQ,CAACY,OAAO,CAACC,OAAO,IAAG;MAC9B,MAAMC,MAAM,GAAGD,OAAO,CAACC,MAAM;MAC7B,IAAI,CAACb,aAAa,CAACa,MAAM,CAAC,GAAG,CAAC,IAAI,CAACb,aAAa,CAACa,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;IACpE,CAAC,CAAC;IACF,IAAI,CAACZ,WAAW,GAAGa,MAAM,CAACC,IAAI,CAAC,IAAI,CAACf,aAAa,CAAC;IAClD,IAAI,CAACE,SAAS,GAAGY,MAAM,CAACE,MAAM,CAAC,IAAI,CAAChB,aAAa,CAAC;EACpD;EAEAQ,cAAcA,CAAA;IACZ;IACA,MAAMS,cAAc,GAAGC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAsB;IAC/E,MAAMC,GAAG,GAAGH,cAAc,CAACI,UAAU,CAAC,IAAI,CAAC;IAE3C,IAAI1B,KAAK,CAACyB,GAAG,EAAE;MACbE,IAAI,EAAE,KAAK;MACXhB,IAAI,EAAE;QACJiB,MAAM,EAAE,IAAI,CAACtB,WAAW;QACxBuB,QAAQ,EAAE,CAAC;UACTlB,IAAI,EAAE,IAAI,CAACJ,SAAS;UACpBuB,eAAe,EAAE,CACf,yBAAyB,EACzB,yBAAyB,EACzB;UACA;UAAA;SAEH;OACF;;MACDC,OAAO,EAAE;QACP;MAAA;KAEH,CAAC;EACJ;CACD;AAvDY9B,yBAAyB,GAAA+B,UAAA,EALrCjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,C,EACWlC,yBAAyB,CAuDrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}